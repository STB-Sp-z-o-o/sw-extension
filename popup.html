<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>SW Extension</title>
  <style>
    body {
      font-family: sans-serif;
      width: 350px; /* Increased width for better layout */
      padding: 10px;
    }
    #settings, #login, #main-container {
      margin-top: 10px;
    }
    input[type="text"], input[type="password"] {
      width: calc(100% - 12px); /* Adjusted for padding */
      margin-bottom: 5px;
      padding: 5px;
    }
    button {
        padding: 8px 12px;
        border: none;
        background-color: #007bff;
        color: white;
        cursor: pointer;
        width: 100%;
        margin-top: 5px;
        border-radius: 4px; /* Added border-radius */
    }
    button:hover {
        background-color: #0056b3;
    }
    button.secondary {
        background-color: #6c757d;
    }
    button.secondary:hover {
        background-color: #5a6268;
    }
    .tab-nav {
        border-bottom: 1px solid #ccc;
        padding-bottom: 5px;
        margin-bottom: 10px;
        display: flex;
    }
    .tab-button {
        flex-grow: 1;
        color: black;
        border: 1px solid #ccc;
        background: #f0f0f0;
        padding: 5px 10px;
        cursor: pointer;
        margin: 0;
        border-radius: 4px 4px 0 0; /* Rounded top corners */
    }
    .tab-button.active {
        background: #fff;
        border-bottom-color: #fff;
    }
    .tab-content {
        display: none;
    }
    .tab-content.active {
        display: block;
    }
    .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding: 8px; /* Increased padding */
        border: 1px solid #eee; /* Added border */
        border-radius: 4px;
    }
    .setting-item label {
        margin-right: 10px;
    }
    hr {
        border: 0;
        height: 1px;
        background: #ccc;
        margin: 20px 0;
    }
  </style>
</head>
<body>

  <div id="user-message" style="display:none; margin-bottom:10px; padding:8px; border-radius:4px; background:#f8f9fa; color:#333; border:1px solid #c3e6cb; font-weight:bold;"></div>

  <!-- Widok początkowej konfiguracji rozszerzenia (klucze API itp.) -->
  <div id="initial-setup-view" style="display: none;">
    <h2>Początkowa konfiguracja</h2>
    <input type="text" id="client_id" placeholder="Identyfikator klienta">
    <input type="password" id="auth_token" placeholder="Token uwierzytelniający">
    <input type="text" id="api_url" placeholder="Adres URL API">
    <button id="save_settings">Zapisz</button>
  </div>

  <!-- Widok logowania do rozszerzenia -->
  <div id="login-view" style="display: none;">
    <h2>Logowanie</h2>
    <input type="text" id="username" placeholder="Nazwa użytkownika">
    <input type="password" id="password" placeholder="Hasło">
    <button id="login_button">Zaloguj się</button>
  </div>

  <!-- Główny kontener widoczny po zalogowaniu -->
  <div id="main-container" style="display: none;">
    <div class="tab-nav">
        <button class="tab-button active" data-tab="main-tab">Główna</button>
        <button class="tab-button" data-tab="settings-tab">Ustawienia</button>
        <button class="tab-button" data-tab="about-tab">O rozszerzeniu</button>
    </div>

    <!-- Zakładka główna -->
    <div id="main-tab" class="tab-content active">
        <p>Zalogowano jako: <span id="loggedInUser"></span></p>
        <hr>
        <button id="logout_button" class="secondary">Wyloguj się</button>
    </div>

    <!-- Zakładka ustawień -->
    <div id="settings-tab" class="tab-content">
        <h3>Funkcje</h3>
        <div class="setting-item">
            <label for="toggle-commission-page">Zlecenia</label>
            <input type="checkbox" id="toggle-commission-page" class="feature-toggle" data-feature="commissionPage">
        </div>
        <div class="setting-item">
            <label for="toggle-credentials-page">Uprawnienia</label>
            <input type="checkbox" id="toggle-credentials-page" class="feature-toggle" data-feature="credentialsPage">
        </div>
        <div class="setting-item">
            <label for="toggle-edit-page">Tabela uprawnień</label>
            <input type="checkbox" id="toggle-edit-page" class="feature-toggle" data-feature="editPage">
        </div>
        <div class="setting-item">
            <label for="toggle-material-cost-enhancement">Koszt materiału</label>
            <input type="checkbox" id="toggle-material-cost-enhancement" class="feature-toggle" data-feature="materialCost">
        </div>
        <div class="setting-item">
            <label for="toggle-filter-management">Zarządzanie filtrami</label>
            <input type="checkbox" id="toggle-filter-management" class="feature-toggle" data-feature="filterManagement">
        </div>
        <div class="setting-item">
          <label for="route-planner-toggle">Planowanie trasy dla zleceń montażowych</label>
          <input type="checkbox" id="route-planner-toggle" class="feature-toggle" data-feature="routePlanner">
        </div>
        <button id="save-feature-settings" class="button">Zapisz ustawienia funkcji</button>
    </div>

    <!-- Zakładka o rozszerzeniu -->
    <div id="about-tab" class="tab-content">
        <h3>O rozszerzeniu</h3>
        <p>SW Extension v1.0</p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
